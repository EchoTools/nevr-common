# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: apigame/v1/engine_http_v1.proto
# plugin: python-betterproto
from dataclasses import dataclass
from typing import List

import betterproto
import grpclib


@dataclass
class GetSessionRequest(betterproto.Message):
    """Request message for GetSession RPC."""

    pass


@dataclass
class GetPlayerBonesRequest(betterproto.Message):
    """Request message for GetPlayerBones RPC."""

    pass


@dataclass
class GetSessionResponse(betterproto.Message):
    """Response message for GetSession RPC."""

    session: "SessionResponse" = betterproto.message_field(1)


@dataclass
class GetPlayerBonesResponse(betterproto.Message):
    """Response message for GetPlayerBones RPC."""

    player_bones: "PlayerBonesResponse" = betterproto.message_field(1)


@dataclass
class Disc(betterproto.Message):
    """Represents the disc's physics properties."""

    position: List[float] = betterproto.double_field(1)
    forward: List[float] = betterproto.double_field(2)
    left: List[float] = betterproto.double_field(3)
    up: List[float] = betterproto.double_field(4)
    velocity: List[float] = betterproto.double_field(5)
    bounce_count: int = betterproto.int32_field(6)


@dataclass
class BodyPart(betterproto.Message):
    """Represents an object's head, body, or hand properties."""

    position: List[float] = betterproto.double_field(2)
    forward: List[float] = betterproto.double_field(3)
    left: List[float] = betterproto.double_field(4)
    up: List[float] = betterproto.double_field(5)


@dataclass
class HandPart(betterproto.Message):
    # Represents an object's head, body, or hand properties.
    pos: List[float] = betterproto.double_field(1)
    forward: List[float] = betterproto.double_field(3)
    left: List[float] = betterproto.double_field(4)
    up: List[float] = betterproto.double_field(5)


@dataclass
class PlayerStats(betterproto.Message):
    """Represents player statistics."""

    possession_time: float = betterproto.double_field(1)
    points: int = betterproto.int32_field(2)
    saves: int = betterproto.int32_field(3)
    goals: int = betterproto.int32_field(4)
    stuns: int = betterproto.int32_field(5)
    passes: int = betterproto.int32_field(6)
    catches: int = betterproto.int32_field(7)
    steals: int = betterproto.int32_field(8)
    blocks: int = betterproto.int32_field(9)
    interceptions: int = betterproto.int32_field(10)
    assists: int = betterproto.int32_field(11)
    shots_taken: int = betterproto.int32_field(12)


@dataclass
class TeamMember(betterproto.Message):
    """Represents individual player data."""

    weapon: str = betterproto.string_field(1)
    ordnance: str = betterproto.string_field(2)
    tac_mod: str = betterproto.string_field(3)
    head: "BodyPart" = betterproto.message_field(5)
    body: "BodyPart" = betterproto.message_field(6)
    account_number: int = betterproto.uint64_field(7)
    display_name: str = betterproto.string_field(8)
    slot_number: int = betterproto.int32_field(9)
    jersey_number: int = betterproto.int32_field(10)
    level: int = betterproto.int32_field(11)
    ping: int = betterproto.int32_field(12)
    packet_loss_ratio: float = betterproto.double_field(13)
    is_stunned: bool = betterproto.bool_field(14)
    is_invulnerable: bool = betterproto.bool_field(15)
    left_holding_onto: str = betterproto.string_field(16)
    right_holding_onto: str = betterproto.string_field(17)
    is_blocking: bool = betterproto.bool_field(18)
    is_emote_playing: bool = betterproto.bool_field(19)
    has_possession: bool = betterproto.bool_field(20)
    left_hand: "HandPart" = betterproto.message_field(21)
    right_hand: "HandPart" = betterproto.message_field(22)
    velocity: List[float] = betterproto.double_field(23)
    stats: "PlayerStats" = betterproto.message_field(24)


@dataclass
class TeamStats(betterproto.Message):
    """Represents team statistics."""

    possession_time: float = betterproto.double_field(1)
    points: int = betterproto.int32_field(2)
    saves: int = betterproto.int32_field(3)
    goals: int = betterproto.int32_field(4)
    stuns: int = betterproto.int32_field(5)
    passes: int = betterproto.int32_field(6)
    catches: int = betterproto.int32_field(7)
    steals: int = betterproto.int32_field(8)
    blocks: int = betterproto.int32_field(9)
    interceptions: int = betterproto.int32_field(10)
    assists: int = betterproto.int32_field(11)
    shots_taken: int = betterproto.int32_field(12)


@dataclass
class Team(betterproto.Message):
    """Represents team data."""

    players: List["TeamMember"] = betterproto.message_field(1)
    team_name: str = betterproto.string_field(2)
    has_possession: bool = betterproto.bool_field(3)
    stats: "TeamStats" = betterproto.message_field(4)


@dataclass
class LastScore(betterproto.Message):
    """Represents the last score event."""

    disc_speed: float = betterproto.double_field(1)
    team: str = betterproto.string_field(2)
    goal_type: str = betterproto.string_field(3)
    point_amount: int = betterproto.int32_field(4)
    distance_thrown: float = betterproto.double_field(5)
    person_scored: str = betterproto.string_field(6)
    assist_scored: str = betterproto.string_field(7)


@dataclass
class LastThrowInfo(betterproto.Message):
    """Represents the last throw event."""

    arm_speed: float = betterproto.double_field(1)
    total_speed: float = betterproto.double_field(2)
    off_axis_spin_deg: float = betterproto.double_field(3)
    wrist_throw_penalty: float = betterproto.double_field(4)
    rot_per_sec: float = betterproto.double_field(5)
    pot_speed_from_rot: float = betterproto.double_field(6)
    speed_from_arm: float = betterproto.double_field(7)
    speed_from_movement: float = betterproto.double_field(8)
    speed_from_wrist: float = betterproto.double_field(9)
    wrist_align_to_throw_deg: float = betterproto.double_field(10)
    throw_align_to_movement_deg: float = betterproto.double_field(11)
    off_axis_penalty: float = betterproto.double_field(12)
    throw_move_penalty: float = betterproto.double_field(13)


@dataclass
class PauseState(betterproto.Message):
    """* Represents the pause state of the game."""

    paused_state: str = betterproto.string_field(1)
    unpaused_team: str = betterproto.string_field(2)
    paused_requested_team: str = betterproto.string_field(3)
    unpaused_timer: float = betterproto.double_field(4)
    paused_timer: float = betterproto.double_field(5)


@dataclass
class PlayerRoot(betterproto.Message):
    vr_left: List[float] = betterproto.double_field(1)
    vr_position: List[float] = betterproto.double_field(2)
    vr_forward: List[float] = betterproto.double_field(3)
    vr_up: List[float] = betterproto.double_field(4)


@dataclass
class SessionResponse(betterproto.Message):
    """
    Top-level message representing the entire JSON data. Endpoint: /session
    """

    # Number of restart requests from the orange team.
    orange_team_restart_request: int = betterproto.int32_field(1)
    # Unique session identifier.
    session_id: str = betterproto.string_field(2)
    # Display string for the game clock.
    game_clock_display: str = betterproto.string_field(3)
    # Current status of the game.
    game_status: str = betterproto.string_field(4)
    # IP address of the session.
    session_ip: str = betterproto.string_field(5)
    # Type of match being played.
    match_type: str = betterproto.string_field(6)
    # Name of the map.
    map_name: str = betterproto.string_field(7)
    # Disc physics properties.
    disc: "Disc" = betterproto.message_field(8)
    # Blue team's round score.
    blue_round_score: int = betterproto.int32_field(11)
    # Orange team's total points.
    orange_points: int = betterproto.int32_field(12)
    # Indicates if the match is private.
    private_match: bool = betterproto.bool_field(14)
    # Number of restart requests from the blue team.
    blue_team_restart_request: int = betterproto.int32_field(15)
    # Indicates if the match is a tournament match.
    tournament_match: bool = betterproto.bool_field(16)
    # Orange team's round score.
    orange_round_score: int = betterproto.int32_field(17)
    # Total number of rounds in the match.
    total_round_count: int = betterproto.int32_field(18)
    # Blue team's total points.
    blue_points: int = betterproto.int32_field(19)
    # Information about the last throw event.
    last_throw: "LastThrowInfo" = betterproto.message_field(20)
    # Player root data.
    player: "PlayerRoot" = betterproto.message_field(21)
    # Pause state of the game.
    pause: "PauseState" = betterproto.message_field(22)
    # List of player possession states.
    possession: List[int] = betterproto.int32_field(23)
    # Value for left shoulder pressed.
    left_shoulder_pressed: float = betterproto.double_field(24)
    # Value for right shoulder pressed.
    right_shoulder_pressed: float = betterproto.double_field(25)
    # Value for left shoulder pressed (alternate).
    left_shoulder_pressed2: float = betterproto.double_field(26)
    # Value for right shoulder pressed (alternate).
    right_shoulder_pressed2: float = betterproto.double_field(27)
    # Name of the client that changed the rules.
    rules_changed_by: str = betterproto.string_field(28)
    # Timestamp when the rules were changed.
    rules_changed_at: int = betterproto.uint64_field(29)
    # Name of the client.
    client_name: str = betterproto.string_field(30)
    # Information about the last score event.
    last_score: "LastScore" = betterproto.message_field(31)
    # List of teams in the session.
    teams: List["Team"] = betterproto.message_field(32)
    # Payload multiplier value.
    payload_multiplier: float = betterproto.double_field(34)
    # Current payload checkpoint.
    payload_checkpoint: int = betterproto.int32_field(35)
    # Distance traveled by the payload.
    payload_distance: float = betterproto.double_field(36)
    # Number of payload defenders.
    payload_defenders: int = betterproto.int32_field(37)
    # Speed of the payload.
    payload_speed: float = betterproto.double_field(38)
    # Current value of the game clock.
    game_clock: float = betterproto.double_field(39)
    # Error code for the response.
    err_code: int = betterproto.int32_field(40)


@dataclass
class UserBones(betterproto.Message):
    """Represents bone data for a single player."""

    bone_t: List[float] = betterproto.float_field(1)
    player_index: int = betterproto.int32_field(2)
    bone_o: List[float] = betterproto.float_field(3)


@dataclass
class PlayerBonesResponse(betterproto.Message):
    """Top-level message representing the user_bones API response."""

    user_bones: List["UserBones"] = betterproto.message_field(1)
    err_code: int = betterproto.int32_field(2)


class EngineHttpServiceStub(betterproto.ServiceStub):
    """HTTP surface that maps to the engine's existing JSON endpoints."""

    async def get_session(self) -> GetSessionResponse:
        """GET /session -> returns the current session state as JSON."""

        request = GetSessionRequest()

        return await self._unary_unary(
            "/apigame.v1.EngineHttpService/GetSession",
            request,
            GetSessionResponse,
        )

    async def get_player_bones(self) -> GetPlayerBonesResponse:
        """
        GET /player_bones -> returns the current user bones payload as JSON.
        """

        request = GetPlayerBonesRequest()

        return await self._unary_unary(
            "/apigame.v1.EngineHttpService/GetPlayerBones",
            request,
            GetPlayerBonesResponse,
        )
