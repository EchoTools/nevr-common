# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: api/http_v1.proto
# plugin: python-betterproto
from dataclasses import dataclass
from datetime import datetime
from typing import Dict, List, Optional

import betterproto


class GuildGameServerListGuildGameServerState(betterproto.Enum):
    STATE_UNSPECIFIED = 0
    STATE_ACTIVE = 1
    STATE_CLOSED = 2


class LobbySessionCreateRequestEntrantReservationRoleAlignment(betterproto.Enum):
    ROLE_ALIGNMENT_UNSPECIFIED = 0
    ROLE_ALIGNMENT_BLUE = 1
    ROLE_ALIGNMENT_ORANGE = 2
    ROLE_ALIGNMENT_SPECTATOR = 3
    ROLE_ALIGNMENT_SOCIAL = 4
    ROLE_ALIGNMENT_MODERATOR = 5


@dataclass
class ListServersRequest(betterproto.Message):
    """List game servers."""

    # Limit the number of returned matches.
    limit: Optional[int] = betterproto.message_field(1, wraps=betterproto.TYPE_INT32)
    # Arbitrary label query.
    query: Optional[str] = betterproto.message_field(6, wraps=betterproto.TYPE_STRING)


@dataclass
class ListGuildGameServersRequest(betterproto.Message):
    """List all users that are part of a group."""

    # The guild ID to list from.
    guild_group_id: str = betterproto.string_field(1)
    # Max number of records to return. Between 1 and 100.
    limit: Optional[int] = betterproto.message_field(2, wraps=betterproto.TYPE_INT32)
    # The game server state to list.
    state: Optional[int] = betterproto.message_field(3, wraps=betterproto.TYPE_INT32)
    # Arbitrary label query.
    query: Optional[str] = betterproto.message_field(5, wraps=betterproto.TYPE_STRING)
    # An optional next page cursor.
    cursor: str = betterproto.string_field(4)


@dataclass
class GuildGameServerList(betterproto.Message):
    # Server-state pairs.
    guild_servers: List["GuildGameServerListGuildGameServer"] = (
        betterproto.message_field(4)
    )
    # An optional next page cursor.
    cursor: str = betterproto.string_field(2)


@dataclass
class GuildGameServerListGuildGameServer(betterproto.Message):
    """A single server-state pair."""

    # Server.
    game_server: "GameServer" = betterproto.message_field(1)
    # The user's relationship to the group.
    state: Optional[int] = betterproto.message_field(2, wraps=betterproto.TYPE_INT32)


@dataclass
class GameServer(betterproto.Message):
    """Game Server"""

    # The id of the server.
    server_id: Optional[int] = betterproto.message_field(
        10, wraps=betterproto.TYPE_UINT64
    )
    # The user ID of the owner of the server.
    operator_id: Optional[str] = betterproto.message_field(
        4, wraps=betterproto.TYPE_STRING
    )
    # The endpoint data used for client connections.
    # (internal_ip:external_ip:port)
    endpoint: Optional[str] = betterproto.message_field(
        6, wraps=betterproto.TYPE_STRING
    )
    # The features of the server.
    supported_features: List[str] = betterproto.string_field(11)
    # The timestep duration in nanoseconds.
    timestep_nanos: int = betterproto.int32_field(3)
    # Additional information about the server.
    metadata: Dict[str, str] = betterproto.map_field(
        24, betterproto.TYPE_STRING, betterproto.TYPE_STRING
    )


@dataclass
class LobbySessionCreateRequest(betterproto.Message):
    """Request to create a lobby session."""

    # The game mode, e.g. "echo_arena_private"
    mode: str = betterproto.string_field(1)
    # The level to play on, e.g. "mpl_arena"
    level: str = betterproto.string_field(2)
    # The number of players per team (1-5), ignored for social modes.
    team_size: int = betterproto.int32_field(3)
    # The guild group ID to which the lobby belongs.
    guild_group_id: str = betterproto.string_field(6)
    # The ID of the lobby creator/allocator
    owner_id: str = betterproto.string_field(5)
    # The preferred region for the lobby session.
    region_code: str = betterproto.string_field(8)
    # Any required features that must be supported by the game server/clients.
    required_features: List[str] = betterproto.string_field(7)
    # Entrant reservations.
    reservations: List["LobbyEntrant"] = betterproto.message_field(4)
    # The time when the match will expire if no players join.
    match_expiry: datetime = betterproto.message_field(11)
    # Extra metadata for the lobby session.
    metadata: Dict[str, str] = betterproto.map_field(
        12, betterproto.TYPE_STRING, betterproto.TYPE_STRING
    )


@dataclass
class LobbySessionCreateRequestEntrantReservation(betterproto.Message):
    # Entrant.
    entrant: "LobbyEntrant" = betterproto.message_field(1)
    # The user's relationship to the group.
    role_alignment: Optional[int] = betterproto.message_field(
        2, wraps=betterproto.TYPE_INT32
    )
    # The expiry time for the reservations.
    expiry: datetime = betterproto.message_field(10)


@dataclass
class LobbyEntrant(betterproto.Message):
    """A single entrant in a lobby session."""

    # The unique ID for this entrant record
    id: str = betterproto.string_field(1)
    # The user's game service session ID
    session_id: str = betterproto.string_field(2)
    # The user's NEVR user ID
    user_id: str = betterproto.string_field(3)
    # The user's cross-platform ID (e.g. OVR-ORG-123412341234)
    xpid: str = betterproto.string_field(4)
    # The user's in-game display name
    display_name: str = betterproto.string_field(10)
    # RoleIndex as int32, see Role enum below
    role_alignment: int = betterproto.int32_field(19)
    metadata: Dict[str, str] = betterproto.map_field(
        23, betterproto.TYPE_STRING, betterproto.TYPE_STRING
    )


@dataclass
class Match(betterproto.Message):
    """Represents a realtime match."""

    # The ID of the match, can be used to join.
    match_id: str = betterproto.string_field(1)
    # True if it's an server-managed authoritative match, false otherwise.
    authoritative: bool = betterproto.bool_field(2)
    # Match label, if any.
    label: Optional[str] = betterproto.message_field(3, wraps=betterproto.TYPE_STRING)
    # Current number of users in the match.
    size: int = betterproto.int32_field(4)
    # Tick Rate
    tick_rate: int = betterproto.int32_field(5)
    # Handler name
    handler_name: str = betterproto.string_field(6)
